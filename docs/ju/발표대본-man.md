줄바꿈 2개 -> 다음 페이지
줄바꿈 1개 -> 같은 페이지 내, 설명

안녕하세요 "이미지 기반 음식 칼로리 분석 헬스케어 서비스"의 발표를 맡은, 팀 Kcalculator(칼로리큘레이터)의 발표자 주연석입니다. 발표 시작하도록 하겠습니다.


발표의 진행 순서는 다음과 같이 6(여섯) 단계로 나누어 진행하도록 하겠습니다.


서비스 기획 배경부터 말씀드리자면, 먼저 국내 배달앱 및 가공식품 시장 현황에 대해 언급하고 넘어가면 좋을 것 같습니다.
배달음식과 간편식 의존도는 증가하고 있는 추세이며, 한국인의 가공식품 섭취 비중도 꾸준히 상승하고 있습니다.


또한 식습관 문제와 건강 지표도 살펴봐야 하는데요,
한국인의 하루 평균 나트륨 섭취량은 WHO 권장량보다 약 1.6배 높았습니다.

이는 가공 및 외식 음식에 식습관이 집중되어 있기 때문에 나타나는 현상인데,
건강하지 않은 식습관은 비만을 초래할 수 있습니다.

실제로 지난 10년간 비만율 추세를 보면, 계속해서 증가하고 있음을 확인할 수 있습니다.

비만은 당뇨, 고혈압과 같이 만성질환 위험을 높이는 주요 요인으로 조기 관리가 필수적입니다.


이와 더불어 건강관리에 대한 글로벌적 관심도 증가하고 있습니다.

글로벌 다이어트 및 영양 앱 시장은 연 평균 성장률이 15.8%으로 빠르게 성장하고 있으며

미국 성인의 많은 비율이 식단 관리를 하고 있음을 확인할 수 있었습니다.


이러한 배경을 바탕으로

음식 이미지만으로 칼로리, 영양정보를 자동분석하여 사용자의 "건강 관리 부담"을 줄이고

개인 맞춤 식단, 레시피 추천을 통해 "건강한 식습관 형성"을 지원하여

궁극적으로 사용자가 보다 "건강한 삶을 영위할 수 있도록" 본 서비스를 기획, 개발하였습니다.


저희가 개발하려는 서비스와 유사한 것들을 4가지 정도 조사 및 비교해보았는데요,

화면에서 보시는 바와 같이 CaloAI, CalAI, myfitnesspal, Lost it입니다.

이들 서비스들은 다음과 같은 공통점이 있었는데요,


먼저 이미지 기반 음식 자동 인식 그리고 칼로리 및 영양소 자동 계산, 개인 맞춤 목표 영양 점수 제공입니다.

그래서 저희는 다른 앱들의 공통점은 가져가되, 식재료 기반 세부 음식 분류, 개인화 식단 레시피 챗봇 추천, 보유 식재료 기반 레시피 추천을 차별화를 목표로 하였습니다.


저희 프로젝트의 기술스택은 보시는 화면과 같습니다. 자세한 사항은 이어지는 슬라이드에서 좀 더 설명드리겠습니다.


먼저, 프론트엔드는 next.js와 react를 사용하였고, 백엔드는 python과 FastAPI를 사용하였습니다.

AI 모델은 세 가지로 yolov11, roboflow 제공 모델, gpt4o-mini와 langchain을 사용하였습니다.


이들을 사용하여 주요 메인기능인 식단 및 식재료 분석, AI 챗봇, 건강 목표와 리포트 기능을 개발하였습니다.

발표 후반부에 실제 서비스 화면을 예시로 보여드리며 설명드리도록 하겠습니다


서비스 구현에 앞서, 필요한 모델과 DB를 구축하기 위해 공공데이터포털과 모델링 파이프라인을 활용하였습니다.

공공데이터포털에서 식약처 식품영양성분 csv 파일을 확보하여 식품코드, 식품명, 칼로리, 영양정보와 같이 필요한 columns들을 pandas로 전처리하여 mysql에 로드하였습니다.

그리고 데이터 수집부터 학습까지 가능한 모델링 파이프라인을 구축하여 동적 웹크롤링으로 1235개 음식에 대한 이미지 데이터를 수집하였습니다.


이어서 모델을 구축하기 위해 사용한 모델링 파이프라인에 대해 조금 더 설명드리겠습니다.

이미지 수집이 완료되면, yolo 기본 모델로 auto labeling을 진행합니다. 

왼쪽 이미지와 같이 기본 모델은 coco dataset으로 학습된 모델로, 전이학습이 진행되지 않아 그릇, 접시, 숟가락과 같이 다양한 객체를 탐지합니다.


현 상태에서 라벨링을 진행하게 되면, 음식인 박스 찾기 등 불필요 작업에 시간이 소요되게 됩니다.

이를 해결하기 위해 우측 국밥 이미지와 같이 가장 큰 박스만 남기고 그 박스의 라벨을 음식 이름으로 매핑하였습니다.


이렇게 처리를 거치고 난 정보를 라벨 스튜디오라는 라벨링 툴에 업로드를 하게 되면 좌측 고구마튀김과 같이 라벨과 박스가 채워져 있게 됩니다.

이는 더 빠른 라벨링 작업을 가능하게 하였고, 이후 양질의 이미지를 확인 후 라벨링을 진행하였습니다.


이후 닭발구이, 닭발볶음, 닭발튀김과 같은 음식들을 닭발류로 라벨을 변환한 후에 학습/검증 데이터셋을 7:3으로 구성하여 yolov11-large모델 학습시켰습니다.


학습 결과는 좌측 중앙 지표와 같이 약 80% 이상의 성능을 보였고,

따로 학습하지 않고 이미 만들어진 roboflow 모델은 약 63% 이상의 성능을 보여주었습니다.

두 모델의 부족한 성능은 gpt 4o-mini를 함께 사용해 보완하였습니다.


모델을 구축하고 난 후, 실제 칼로리 조회에서 비정상적으로 낮은 칼로리가 조회되는 문제를 식별하였는데요,

예를들어 마르게리타 피자 한 조각이 44kcal로 잘못 나오는 것을 확인하였습니다.

이는 칼로리 계산을 위해 에트워터 계수를 사용하는데, 이때 계산에 필요한 영양소 값에 결측치가 다수 존재하기 때문이었습니다.

이를 해결하기 위해 죽 및 스프류 등으로 나눠지는 식품대분류코드를 사용하여 각 분류의 영양소 중앙값을 기반으로 결측치를 처리하여 비현실적 칼로리 문제를 해결하여, 트러블슈팅을 진행했습니다.


이렇게 모델과 DB를 구축하였으니, 이제 메인 기능에 대해 말씀드리도록 하겠습니다.

개인 맞춤 목표 영양 점수 기능입니다.

개인의 신체정보를 기반으로, 오늘 먹어야 하는 영양소와 칼로리를 계산하여 점수화하였고, "오늘의 종합점수", "점수 상세 분석", "일일 칼로리 섭취량" 등으로 사용자가 자신의 상태를 확인할 수 있게 하였습니다.

점수화에 사용한 과학적 평가지표는 NRF9.3과 미플린 세인트 지어, 한국인 영양소 섭취기준을 활용하였습니다.


좀 더 세부적인 영양 점수와, 이전의 기록들도 확인할 수 있는데요,

첫 번째 이미지인 "영역별 영양소 점수"에서 세부적 영양 점수 그리고 "식사 기록"에서 이전 섭취 기록을 확인할 수 있습니다.


다음은 식재료 기반 음식 분석 기능입니다.

쉬림프 피자를 업로드 후, 분석 시작 버튼을 누르면 AI가 유력한 음식 후보 3가지를 도출하게 됩니다.


이때 사용자가 더 정확히 기재/수정 가능하며, 영양 정보 계산하기를 누르면

사용자가 자연어로 입력한 246g을 기반으로 칼로리 계산이 이뤄지고, 저장하기를 누르면 분석한 이미지를 섭취 기록으로 남길 수 있습니다.


식재료 기반 레시피 추천도 이전과 유사하게, 식재료 이미지를 등록하면 각 재료를 탐지하고 보유한 재료를 저장할 수 있습니다.

보유 식재료로 음식 추천받기를 누르게 되면, 보유한 식재료를 기반으로 레시피 후보들이 나오게 되고,

사용자가 레시피를 선택하면 조리법이 단계별로 나타나며 최종적으로 섭취 기록으로 남길 수 있습니다.


챗봇 레시피 검색 및 추천 기능은

챗봇처럼 대화를 하는 형식으로 레시피 추천을 받을 수 있습니다.

채팅 입력, 레시피 선택, 보유 재료 선택, 단계별 조리법 제공, 조리한 음식 기록 순으로 진행됩니다.

이때 제시한 조리법에 사용된 재료가 없을수도 있으므로 체크박스 형식으로 제공됩니다.


챗봇 추천은 다른 서비스와의 차별점이라고 앞서 설명드린 바 있는데요,

챗봇 추천 기능 중, 알러지 / 질환 위험 경고도 차별점 중 하나입니다.

테스트 사용자가 고혈압과 고지혈증을 기저질환으로 갖고있고, 조개 알러지가 있다고 설정하여 테스트하였습니다.

이때 사용자는 삼선짬뽕을 요구하는데요, 중앙 이미지를 보시면 알러지/질환 기반 위험 경고를 띄워주게 됩니다.

그러면 사용자는 그대로 진행할지, 건강하게 바꿀지 선택하게 되고, 이에 따라 레시피를 받게 됩니다.

특히 건강하게 바꾸기를 선택한 경우 우측 이미지와 같이 알러지가 없는 재료와 질환을 고려한 레시피를 제공받습니다.


주요 메인 기능에 대해서는 여기까지 설명하고, 사이트를 실제로 접속하여 서비스를 체험할 수 있는 QR코드 링크를 보여드리며 이어서 시연 영상으로 넘어가도록 하곘습니다.


"영상들 넘어가며 설명하기"


프로젝트 성과로는 알러지 질환 등 건강 기반 평가 기능으로 단순 "칼로리 계산 앱"을 넘어서 헬스케어 서비스로 확장성을 확보하였습니다.


기대효과는 개인적, 교육적, 사회적 효과를 기대할 수 있고

최종 목표는 높게 잡아서 MAU 10만, 연매출 100억, cj와 삼성헬스, 애플과 같이 주요 기업들과 파트너쉽을 맺는 것으로 목표를 잡았습니다.

여기까지 서비스에 대한 설명이었습니다. 이어서 Q&A를 진행하도록 하겠습니다.


이상으로 발표를 마치도록 하겠습니다. 경청해주셔서 감사합니다.